{% extends 'league/base.html' %}
{% load staticfiles %}

{% block content %}
    <style>input {
        width: 50px;
    }
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="{% static "app.js" %}"></script>

    <div ng-app="tableTennis">
        <div ng-controller="MatchController as match">
            {% verbatim %}
            <h4>{{ match.home_player }} : {{ match.away_player }}</h4>

            <form ng-submit="submit(match)">
                <div ng-repeat="set in match.sets">
                    <input type="number" value="{{ set.home_player_score }}"/> : <input type="number" value="{{ set.away_player_score }}"/>
                    <button type="button" ng-click="removeSet(set)">Remove Set</button>
                </div>
                <button type="button" ng-click="addSet()">Add Set</button>
                <button type="submit" class="button-primary">Save</button>
            </form>
            {% endverbatim %}
        </div>
    </div>

    <a href="{% url "league_matches" pk=league_id %}">
        <button type="button">Back</button>
    </a>
{% endblock content %}
